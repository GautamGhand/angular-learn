<div class="flex flex-col min-h-screen">
    <header class="w-full">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4 border-b border-gray-200 dark:border-gray-800">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 text-primary">
                        <svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 2L2 7V17L12 22L22 17V7L12 2ZM12 4.43L19.57 8.5L12 12.57L4.43 8.5L12 4.43ZM3.5 9.65L11 13.91V20.1L3.5 16.1V9.65ZM13 20.1V13.91L20.5 9.65V16.1L13 20.1Z">
                            </path>
                        </svg>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-900 dark:text-white">CampusConnect</h1>
                </div>
            </div>
        </div>
    </header>
    <main class="flex-grow flex items-center justify-center">
        <div class="w-full max-w-md p-8 space-y-8 bg-white dark:bg-background-dark rounded-xl shadow-lg">
            <div class="text-center">
                <h2 class="mt-6 text-3xl font-bold text-gray-900 dark:text-white">
                    Welcome Back!
                </h2>
                <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                    Sign in to continue to your portal.
                </p>
            </div>
            <form class="mt-8 space-y-6" id="loginForm" #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)" novalidate>
                <div class="space-y-4">
                    <div>
                        <label class="sr-only" for="email-address">Username or Email</label>
                        <div class="relative">
                            <input autocomplete="email" [(ngModel)]="email" #emailRef="ngModel" required email
                                class="peer block w-full px-3 py-4 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none sm:text-sm"
                                id="email-address" name="email" placeholder="Username or Email" type="email" [ngClass]="{
                                        'border-gray-300 dark:border-gray-700': !(submitted && emailRef.invalid),
                                        'border-danger focus:ring-danger focus:border-danger': (submitted && emailRef.invalid)
                                    }" />
                            <div *ngIf="submitted && emailRef.invalid"
                                class="absolute inset-y-0 right-0 pr-3 flex items-center hidden peer-invalid:flex pointer-events-none">
                                <span class="material-symbols-outlined text-danger">error</span>
                            </div>
                        </div>
                        <div *ngIf="submitted && emailRef.invalid">
                            <p *ngIf="emailRef.errors?.['required']" class="mt-2 text-sm text-danger error-message"
                                id="email-error">Email is Required.</p>
                            <p *ngIf="emailRef.errors?.['email']" class="mt-2 text-sm text-danger error-message"
                                id="email-error">Invalid email format.</p>
                        </div>
                    </div>
                    <div>
                        <label class="sr-only" for="password">Password</label>
                        <div class="relative">
                            <input autocomplete="current-password" [(ngModel)]="password" #passwordRef="ngModel"
                                required minlength="8" id="password" name="password" placeholder="Password"
                                [type]="show ? 'text' : 'password'" class="peer block w-full px-3 py-4 border rounded-lg sm:text-sm
                                            border-gray-300 dark:border-gray-700 
                                            placeholder-gray-500 dark:placeholder-gray-400 
                                            text-gray-900 dark:text-white 
                                            bg-background-light dark:bg-background-dark 
                                            focus:outline-none focus:ring-primary focus:border-primary" [ngClass]="{
                                        'border-danger focus:ring-danger focus:border-danger': submitted && passwordRef.invalid
                                    }" />
                            <button type="button" (click)="show = !show"
                                class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700">
                                <ng-container *ngIf="show; else hideIcon">
                                    <!-- ðŸ‘ï¸ Eye open (showing password) -->
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor" class="h-5 w-5">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                </ng-container>
                                <ng-template #hideIcon>
                                    <!-- ðŸš« Eye off (hiding password) -->
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor" class="h-5 w-5">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a9.955 9.955 0 012.042-3.362m3.19-2.57A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.955 9.955 0 01-4.043 5.197M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M3 3l18 18" />
                                    </svg>
                                </ng-template>
                            </button>
                            <div *ngIf="submitted && passwordRef.invalid"
                                class="absolute inset-y-0 right-0 pr-3 flex items-center hidden peer-invalid:flex pointer-events-none">
                                <span class="material-symbols-outlined text-danger">error</span>
                            </div>
                        </div>
                        <div *ngIf="submitted && passwordRef.invalid">
                            <p *ngIf="passwordRef.errors?.['required']" class="mt-2 text-sm text-danger error-message"
                                id="password-error">Password is Required.</p>
                            <p *ngIf="passwordRef.errors?.['minlength']" class="mt-2 text-sm text-danger error-message"
                                id="password-error">Password must be at least 6 characters.</p>
                        </div>
                    </div>
                </div>
                <div class="flex items-center justify-end">
                    <div class="text-sm">
                        <a class="font-medium text-primary hover:text-primary/80" href="#">
                            Forgot your password?
                        </a>
                    </div>
                </div>
                <div>
                    <button
                        class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:bg-primary/50 disabled:cursor-not-allowed"
                        id="loginButton" type="submit">
                        Login
                    </button>
                </div>
            </form>
        </div>
    </main>
</div>